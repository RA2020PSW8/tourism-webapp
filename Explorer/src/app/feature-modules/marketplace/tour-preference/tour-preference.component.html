<div class="preferences-container">
    <div *ngIf="!tourPreference">
        <h2>You don't have any preferences</h2>
        <div class="button-container">
            <button color="primary" type="submit" (click)="addTourPreference()" mat-raised-button>Add Preference</button>
        </div>
    </div>
    <div *ngIf="mode == 'preview' && tourPreference"> 
        <div>
            <h2>My Preferences</h2>
            <p>Difficulty: {{ tourPreference.difficulty }}</p>
            <p>Transport Type: {{ tourPreference.transportType }}</p>
            <div class="tag-list">
                <p>Tags: </p>
                <div class="tag" *ngFor="let tag of tourPreference.tags">{{ tag }}</div>
            </div>
        </div>

        <div class="button-container">
            <button color="primary" type="submit" (click)="editTourPreference()" mat-raised-button>Edit Preferences</button>
            <button color="warn" type="submit" (click)="deleteTourPreference()" mat-raised-button>Delete Preferences</button>
        </div>
    </div>
    <form class="preferences-container preferences-form" *ngIf="mode != 'preview' && tourPreference" [formGroup]="tourPreferenceForm">
        <!-- Update radio buttons to get possible from server? -->
        <h2 *ngIf="mode == 'edit'">Edit your preferences</h2>
        <h2 *ngIf="mode == 'add'">Add your preference</h2>
        <p>Select preferred tour difficulty</p>
        <mat-radio-group aria-label="Select preferred tour difficulty" formControlName="difficulty">
            <mat-radio-button [value]="0">Easy</mat-radio-button>
            <mat-radio-button [value]="1">Medium</mat-radio-button>
            <mat-radio-button [value]="2">Hard</mat-radio-button>
            <mat-radio-button [value]="3">Extreme</mat-radio-button>
        </mat-radio-group>
        <p>Select preferred transport type</p>
        <mat-radio-group aria-label="Select preferred transport type" formControlName="transportType">
            <mat-radio-button [value]="0">Walk</mat-radio-button>
            <mat-radio-button [value]="1">Bike</mat-radio-button>
            <mat-radio-button [value]="2">Car</mat-radio-button>
            <mat-radio-button [value]="3">Boat</mat-radio-button>
        </mat-radio-group>
        <div>
            <mat-form-field>
                <mat-label>New Tag</mat-label>
                <input matInput type="text" formControlName="newTag"/>
            </mat-form-field>
            <button color="primary" type="submit" (click)="addTag()" mat-raised-button>Add Tag</button>
        </div>
        <p>Selected tags:</p>
        <div class="tag-list">
            <div class="tag" *ngFor="let tag of tags">{{ tag }}
                <button (click)="removeTag(tag)">X</button>
            </div>
        </div>
        <div class="button-container">
            <button color="basic" type="submit" (click)="cancelChanges()" mat-raised-button>Cancel</button>
            <button color="primary" type="submit" (click)="confirmChanges()" mat-raised-button>Confirm</button>
        </div>
    </form>
</div>