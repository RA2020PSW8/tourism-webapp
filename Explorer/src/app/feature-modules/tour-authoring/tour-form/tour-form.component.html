<div class="cont" *ngIf="tourId !== 0">
    <div>
        <h1>Tour information</h1>
        <p><strong>Name:</strong> {{tour.name}}</p>
        <p><strong>Description:</strong> {{tour.description}}</p>
        <p><strong>Price:</strong> {{tour.price}} &euro;</p>
        <p><strong>Type:</strong> {{tour.transportType}}</p>
        <p><strong>Difficulty:</strong> {{tour.difficulty}}</p>
        <p><strong>Status:</strong> {{tour.status}}</p>
        
        <p *ngIf="routeInfo"><strong>Travel distance:</strong> {{routeInfo.distance | number:'1.2-2'}} km</p>
        <p *ngIf="routeInfo"><strong>Tour duration:</strong> {{routeInfo.duration | time}}</p>
    </div>  
    <div>
        <h1>Keypoints information</h1>
        <xp-keypoint [keypoints]="keypoints" (keypointDeleted)="getTourKeypoints()" (keypointSelected)="selectKeypoint($event)"></xp-keypoint>
    </div> 
</div>
<hr>
<div class="cont">
    <div>
        <h1 *ngIf="tourId===0">1. step: create tour draft</h1>
        <form [formGroup]="tourForm">
            <div class="somediv">
                <mat-form-field>
                    <mat-label>Name</mat-label>
                    <input matInput formControlName="name" type="text"/>
                </mat-form-field>
        
                <mat-form-field>
                  <mat-label>Description</mat-label>
                  <textarea matInput
                  cdkTextareaAutosize
                  cdkAutosizeMinRows="1"
                  formControlName="description"
                  cdkAutosizeMaxRows="5"></textarea>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Price</mat-label>
                    <input matInput formControlName="price" type="number" min="0"/>
                </mat-form-field>
        
                <mat-form-field>
                    <mat-label>Difficulty</mat-label>
                    <mat-select formControlName="difficulty" matInput required>
                        <mat-option value="EASY">Easy</mat-option>
                        <mat-option value="MEDIUM">Medium</mat-option>
                        <mat-option value="HARD">Hard</mat-option>
                        <mat-option value="EXTREME">Extreme</mat-option>
                    </mat-select>
                </mat-form-field>
        
                <mat-form-field>
                    <mat-label>Transport type</mat-label>
                    <mat-select formControlName="transportType" matInput required>
                        <mat-option value="WALK">Walk</mat-option>
                        <mat-option value="BIKE">Bike</mat-option>
                        <mat-option value="CAR">Car</mat-option>
                        <mat-option value="BOAT">Boat</mat-option>
                    </mat-select>
                </mat-form-field>
        
        
                <button color="primary" type="submit" (click)="saveTour()" mat-raised-button [disabled]="!tourForm.valid">
                    <span>Save</span> <span *ngIf="tourId === 0 || tour.status === 'DRAFT'">(DRAFT)</span>
                </button>
            </div>
        </form>
    </div>
    <div *ngIf="tourId !== 0" style="width: 80%;">
        <xp-keypoint-form [tourId]="tourId" [routeQuery]="routeQuery" [keypointsCount]="keypoints.length"
        [mode]="mode" [selectedKeypoint]="selectedKeypoint" (keypointsUpdated)="getTourKeypoints()" (routeFound)="setTourRoute($event)"></xp-keypoint-form>
    </div>
</div>



